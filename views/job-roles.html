{% extends "layout.html" %}

{% set title = 'View Job Roles' %}

{% block content %}  

<div class="container">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12"> 
            <nav class="breadcrumb" aria-label="Breadcrumbs">
                <ol class="breadcrumb__items u-fs-s">
                    <li class="breadcrumb__item" id="breadcrumb-1" data-cy="breadcrumbHome">
                        <a class="breadcrumb__link" href="/">Home</a>
                        <img class="breadcrumb-svg-icon" src="/breadcrumb-svg-icon.svg" alt="Breadcrumb icon">
                    </li>
                    <li class="breadcrumb__item active" id="breadcrumb-2" data-cy="breadcrumbJobRoles">
                        Job Roles
                    </li>
                </ol>
            </nav>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12"> 
            <h2>Job Roles</h2>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12"> 
            {% if JobRoles == "Error: There was a problem retrieving job roles." %}
                <h4> {{JobRoles}} </h4>
                <p> The service is not available right now. Please try again later. </p>
            {% elif JobRoles and JobRoles.length > 0 %}


                 <!--   <div class="input-group w-25 mb-3">
                            <input type="text" class="form-control" placeholder="Search for available job roles"aria-label="Recipient's username" aria-describedby="button-addon2">
                            <button class="btn btn-outline-primary" type="button" id="button-addon2">Search</button>
                    </div> -->

                {% for JobRole in JobRoles %}
                    
                    <div class="card" data-cy="jobSummary{{JobRole.jobRoleID}}">
                        <details>
                                <summary>{{JobRole.jobTitle}} ({{JobRole.jobBand}})</summary>
                            <ul>
                                    <li>Job Band: {{JobRole.jobBand}}</li>
                                    <li>Job Capability: {{JobRole.jobCapability}}</li>
                                    <li>Job Discipline: {{JobRole.jobDiscipline}}</li>
                                    <li><a href="/job-role-details/{{JobRole.jobRoleID}}" data-cy="jobRoleDetailsLink{{JobRole.jobRoleID}}">View Job Role Details</a></li>
                            </ul>
                        </details>
                    </div>

                {% endfor %} 


            {% else %}

                <h4> No results can be returned! </h4>

            {% endif %}

            <br>
        </div>
    </div>
</div>

{% endblock %}